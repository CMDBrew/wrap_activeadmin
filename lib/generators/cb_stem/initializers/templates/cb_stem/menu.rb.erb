ActiveAdmin.setup do |config|
  config.namespace :admin do |admin|
    admin.build_menu do |menu|
      menu.add label: proc { menu_label('Analytics', icon: 'dashboard-29') },
               id: 'analytics',
               priority: 1

      menu.add label: proc { menu_label('Customers', icon: 'multiple-11') },
               id: 'customers',
               priority: 2

      menu.add label: proc { menu_label('Media', icon: 'folder-image') },
               id: 'media',
               priority: 4

      menu.add label: proc { menu_label('Content', icon: 'paragraph') },
               id: 'content',
               priority: 3

      menu.add label: proc { menu_label('Inbox', icon: 'file-download-89') },
               id: 'inbox',
               priority: 7
    end

    admin.build_menu :utility_navigation do |menu|
      menu.add  label: proc { menu_label(current_<%= class_name.underscore %>.email, icon: 'circle-08') },
                id: 'current_<%= class_name.underscore %>',
                priority: 99

      menu.add  label: proc { menu_label('Help & Support', icon: 'support-16') },
                id: 'help',
                priority: 1

      menu.add  label: proc { menu_label('Site Settings', icon: 'settings-gear-65') },
                id: 'settings',
                priority: 98

      menu.add  label: proc { menu_label('Admin Users') },
                id: '<%= class_name.underscore.pluralize %>',
                url: proc { admin_<%= class_name.underscore.pluralize %>_path },
                priority: 98,
                parent: 'settings'

      menu.add  label: proc { menu_label('Profile') },
                id: 'profile',
                url: proc { edit_admin_<%= class_name.underscore %>_path(current_<%= class_name.underscore %>) },
                priority: 1,
                parent: 'current_<%= class_name.underscore %>'

      menu.add  label: proc { menu_label('Log Out') },
                id: 'logout',
                url: proc { destroy_<%= class_name.underscore %>_session_path },
                priority: 2,
                parent: 'current_<%= class_name.underscore %>'
    end
  end
end
