ActiveAdmin.setup do |config|
  config.namespace :admin do |admin|
    admin.build_menu do |menu|
      menu.add label: proc { menu_label('Analytics', icon: 'dashboard-29', badge: 0) },
               id: 'analytics',
               priority: 1

      menu.add label: proc { menu_label('Customers', icon: 'multiple-11', badge: 10) },
               id: 'customers',
               priority: 2

      menu.add label: proc { menu_label('Media', icon: 'folder-image', badge: 0) },
               id: 'media',
               priority: 4

      menu.add label: proc { menu_label('Content', icon: 'paragraph', badge: 0) },
               id: 'content',
               priority: 3

      menu.add label: proc { menu_label('Inbox', icon: 'file-download-89', badge: 100) },
               id: 'inbox',
               priority: 7
    end

    admin.build_menu :utility_navigation do |menu|
      menu.add  label: proc { menu_label(current_admin_user.email, icon: 'circle-08', badge: 12) },
                id: 'current_admin_user',
                priority: 99

      menu.add  label: proc { menu_label('Help & Support', icon: 'support-16') },
                id: 'help',
                priority: 1

      menu.add  label: proc { menu_label('Site Settings', icon: 'settings') },
                id: 'settings',
                priority: 98

      menu.add  label: proc { menu_label('Admin Users') },
                id: 'admin_users',
                url: proc { admin_admin_users_path },
                priority: 98,
                parent: 'settings'

      menu.add  label: proc { menu_label('Profile') },
                id: 'profile',
                url: proc { edit_admin_admin_user_path(current_admin_user) },
                priority: 1,
                parent: 'current_admin_user'

      menu.add  label: proc { menu_label('Log Out') },
                id: 'logout',
                url: proc { destroy_admin_user_session_path },
                priority: 2,
                parent: 'current_admin_user'
    end
  end
end
